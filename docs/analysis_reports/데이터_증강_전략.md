# 데이터 가공/증강/변형 전략

## 🎯 목표
46개 샘플 → 수백 개 고품질 학습 데이터로 확장하여 프롬프트 성능 향상

## 📊 현재 데이터 분석 기반 증강 전략

### 1. 텍스트 변형 (Text Augmentation) ⭐⭐⭐⭐⭐

#### A) 동의어/유의어 치환
```
원본: "현대차, 1월 美판매 15% 늘어…역대 최대"
변형1: "현대자동차, 1월 미국판매 15% 증가…사상 최고"
변형2: "HMG, 1월 북미판매 15% 상승…기록 경신"
```

**자동차 관련 동의어 사전:**
- 현대차 ↔ 현대자동차 ↔ HMG ↔ 현대모터
- 판매 ↔ sales ↔ 출고 ↔ 인도
- 전기차 ↔ EV ↔ 배터리카 ↔ 친환경차
- 자율주행 ↔ 무인주행 ↔ 스마트드라이빙 ↔ AD

#### B) 문장 구조 변경
```
원본: "삼성SDI가 46파이 배터리 생산한다"
→ "46파이 배터리를 삼성SDI가 생산한다" 
→ "삼성SDI, 46파이 배터리 생산 결정"
→ "46파이 배터리 생산업체로 삼성SDI 선정"
```

### 2. 패러프레이징 (Paraphrasing) ⭐⭐⭐⭐

#### A) 제목 스타일 변형
```
경제지 스타일: "현대차, 미국 판매 15% 증가"
일반지 스타일: "현대차 미국서 잘나간다…15% 늘어"  
온라인 스타일: "현대차 미국 대박! 15%↑"
전문지 스타일: "현대자동차그룹 북미시장 15% 성장"
```

#### B) 어조/문체 변형
- 격식체 ↔ 구어체
- 긍정적 ↔ 중립적 톤
- 상세형 ↔ 요약형

### 3. 정보 밀도 조절 ⭐⭐⭐⭐

#### A) 정보 추가 (Enhancement)
```
원본: "기아 EV3 올해의 차 수상"
증강: "기아의 소형 전기 SUV EV3가 2025 대한민국 올해의 차로 선정되며, 400km 주행거리와 합리적 가격대로 심사위원단의 호평을 받았다"
```

#### B) 정보 축약 (Simplification)  
```
원본: [긴 기사]
축약: "현대차그룹이 미국에서 월간 최다 판매 기록을 경신했다"
```

### 4. 맥락 변형 (Context Variation) ⭐⭐⭐⭐⭐

#### A) 시점 변경
```
현재: "현대차가 전기차를 출시한다"
과거: "현대차가 전기차를 출시했다"  
미래: "현대차가 전기차를 출시할 예정이다"
```

#### B) 지역/시장 변경
```
원본: "현대차 미국 판매 증가"
변형1: "현대차 유럽 판매 증가"
변형2: "현대차 중국 판매 증가"  
변형3: "현대차 국내 판매 증가"
```

### 5. 경계 케이스 생성 (Boundary Cases) ⭐⭐⭐⭐⭐

#### A) 애매한 케이스 의도적 생성
```
# 배터리 관련 경계 케이스
라벨1: "삼성SDI, 전기차용 배터리 생산 확대"
라벨0: "삼성SDI, 가전용 배터리 생산 확대"

# 반도체 관련 경계 케이스  
라벨1: "차량용 반도체 부족 현상 지속"
라벨0: "스마트폰용 반도체 부족 현상 지속"
```

#### B) 복합 주제 케이스
```
라벨1: "자동차 업계 AI 기술 도입 가속화"
라벨0: "금융업계 AI 기술 도입 가속화"
```

## 🔧 구체적 증강 방법론

### Method 1: 템플릿 기반 생성

#### 자동차 관련(1) 템플릿
```python
templates_1 = [
    "{회사명}, {지역} {제품} 판매 {증감률}% {증감}",
    "{회사명} {기술}, {목표} 달성",
    "{제품} 시장 {현황}, {회사명} {전략}",
    "{회사명}-{파트너} {분야} 협력 확대"
]

# 변수 풀
회사명 = ["현대차", "기아", "삼성SDI", "LG이노텍"]
제품 = ["전기차", "SUV", "하이브리드", "배터리"]  
기술 = ["자율주행", "충전기술", "배터리기술"]
```

#### 자동차 무관(0) 템플릿  
```python
templates_0 = [
    "{업종} {정책} 개정, {효과} 전망",
    "{기술분야} {트렌드}, {기업} 대응",  
    "{국가} {경제지표} {변화}, {분야} 영향"
]

업종 = ["반도체", "AI", "부동산", "금융"]
기술분야 = ["인공지능", "클라우드", "보안", "우주"]
```

### Method 2: 규칙 기반 변형

#### 키워드 치환 규칙
```python
replacements = {
    # 회사명 변형
    "현대차": ["현대자동차", "HMG", "현대모터"],
    "기아": ["기아자동차", "기아차", "KIA"],
    
    # 제품 변형  
    "전기차": ["EV", "배터리카", "친환경차"],
    "SUV": ["스포츠유틸리티", "다목적차량"],
    
    # 동작 변형
    "증가": ["상승", "늘어", "확대"], 
    "감소": ["하락", "줄어", "축소"]
}
```

### Method 3: 조합형 생성

#### Cross-Product 방식
```python
# 자동차 관련 요소들의 모든 조합
companies = ["현대차", "기아", "삼성SDI"]  
products = ["전기차", "SUV", "배터리"]
actions = ["출시", "생산", "개발"]
regions = ["미국", "유럽", "중국"]

# 4^4 = 256가지 조합 가능
```

## 📈 증강 데이터 품질 관리

### 1. 품질 검증 체크리스트
- [ ] 문법적 정확성
- [ ] 의미적 일관성  
- [ ] 라벨의 적절성
- [ ] 키워드 분포의 균형
- [ ] 현실성/그럴듯함

### 2. 다양성 확보 전략
- **길이 다양성**: 짧은/중간/긴 텍스트
- **스타일 다양성**: 격식체/구어체/전문용어  
- **난이도 다양성**: 명확함/애매함/복잡함

### 3. 라벨 균형 조절
- 현재 1:0 = 37:63 → 목표 50:50 달성
- 각 라벨별 최소 200개 이상 확보

## 🎯 최종 증강 전략 추천

### Phase 1: 기본 증강 (목표: 200개)
1. **동의어 치환**: 각 샘플당 3-4개 변형 생성
2. **문장 구조 변경**: 수동태↔능동태, 어순 변경
3. **어조 변형**: 격식체↔구어체 변환

### Phase 2: 고급 증강 (목표: 400개)  
1. **템플릿 생성**: 패턴 분석 후 새로운 조합
2. **경계 케이스**: 애매한 상황 의도적 생성
3. **정보 밀도 조절**: 상세화/요약화

### Phase 3: 품질 최적화 (목표: 최종 500개)
1. **중복 제거**: 유사도 검사
2. **라벨 검증**: 수동 검토  
3. **난이도 조절**: 쉬움/보통/어려움 균형

## ⚠️ 주의사항

1. **과적합 방지**: 너무 유사한 패턴 생성 금지
2. **현실성 유지**: 말이 되는 시나리오만 생성
3. **라벨 정확성**: 증강 후 라벨이 여전히 맞는지 검증
4. **키워드 밸런스**: 특정 키워드에만 편중되지 않도록

## 🚀 구현 순서

1. **분석 단계**: 기존 46개 샘플의 패턴 완전 분석
2. **설계 단계**: 증강 규칙과 템플릿 정의  
3. **생성 단계**: 자동/반자동 데이터 생성
4. **검증 단계**: 품질 검사 및 라벨 확인
5. **최적화**: 프롬프트 테스트를 통한 효과 검증

이렇게 체계적으로 데이터를 증강하면 프롬프트의 일반화 성능을 크게 향상시킬 수 있습니다!