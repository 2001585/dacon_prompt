# 🚨 긴급 분석: 점수 급락 (0.98 → 0.09)

## 충격적인 결과
- **원본**: 0.9801 (591자)
- **V1 공백제거**: 0.0989 (432자) ⚠️ **10분의 1로 급락!**
- **V2 단어제거**: 0.0990 (411자) ⚠️ **거의 0점!**

## 🔍 급락 원인 분석

### 1. **공백이 중요한 이유**

#### GPT-4o mini의 토크나이징 특성
```python
# 원본 (공백 있음)
"+3 (제목∈A)∨(본문주어∈A)"
→ 토큰: ["+3", " ", "(", "제목", "∈", "A", ")", "∨", ...]

# 공백 제거
"+3(제목∈A)∨(본문주어∈A)"
→ 토큰: ["+3(제목", "∈", "A)∨(본문주어", "∈", "A)"]
```

**공백 제거 시 토큰이 잘못 분리되어 의미 파괴!**

### 2. **중요한 차이점들**

| 요소 | 원본 (0.98) | 수정본 (0.09) | 문제점 |
|-----|------------|--------------|--------|
| 헤더 | `[자동차뉴스분류기준]` | `[자동차뉴스분류]` | "기준" 삭제 |
| 라벨 | `집합정의:` | `집합:` | "정의" 삭제 |
| 라벨 | `점수계산:` | `점수:` | "계산" 삭제 |
| 공백 | `+3 (제목∈A)` | `+3(제목∈A)` | 공백 제거 |
| 단어 | `차종언급` | `차종` | "언급" 삭제 |
| 단어 | `규제·인증` | `규제인증` | 가운뎃점 삭제 |
| 문장 | `:'차량용'불명` | `:차량용불명` | 따옴표 제거 |

### 3. **GPT-4o mini가 민감한 부분**

#### ❌ 치명적 변경 (절대 하면 안됨)
1. **점수 앞 공백 제거** → 점수 계산 실패
2. **가운뎃점(·) 제거** → 의미 구분 실패
3. **따옴표 제거** → 문자열 인식 실패
4. **핵심 단어 삭제** (정의, 계산, 언급 등)

#### ✅ 안전한 변경
1. 브랜드 수 축소 (덜 중요한 것만)
2. Act 동사 일부 제거
3. 중복 표현 제거

## 💡 개선 방안

### 안전한 최적화 V3 (570자 예상)
```
[자동차뉴스분류기준]점수계산후"1"또는"0"출력

집합정의:
A={현대차,기아,테슬라,벤츠,BMW,폭스바겐,도요타,혼다,포드,GM,스텔란티스,리비안,BYD,니오}
B={모빌리티,자동차,자율주행,전기차,수소차,하이브리드}
Act={출시,양산,판매,수주,계약,공급,생산,투자,인수,합병,협력,개발}

점수계산:
+3 (제목∈A)∨(본문주어∈A)
+2 제목∈B
+1 본문∈B
+2 Act등장
+1 OEM/완성차/차종언급
+1 차량용/규제·인증(ADAS,NCAP,UNECE,AEC-Q,ISO26262)
+1 A∧Act동일문장(근접)
-3 제목B중심(자동차연결없음)
-2 본문B중심(직접성불명)
-2 배터리·반도체·소재·에너지:'차량용'불명

판정: total≥3이면서(①OEM/차종/차량용/규제·인증신호중하나명시또는②A∧Act동시문장)일때만1,나머지0
```
**변경사항**:
- 브랜드 5개 제거 (르노,쉐보레,루시드,샤오펑,리상)
- Act 3개 제거 (증산,감산,제휴)
- **공백, 가운뎃점, 따옴표 모두 유지**

### 극한 안전 버전 (580자)
```
[자동차뉴스분류기준]점수계산후"1"또는"0"출력

집합정의:
A={현대차,기아,테슬라,벤츠,BMW,폭스바겐,도요타,혼다,포드,GM,스텔란티스,리비안,루시드,BYD,니오}
B={모빌리티,자동차,자율주행,전기차,수소차,하이브리드}
Act={출시,양산,판매,수주,계약,공급,생산,증산,감산,투자,인수,합병,협력,제휴,개발}

점수계산:
+3 (제목∈A)∨(본문주어∈A)
+2 제목∈B
+1 본문∈B
+2 Act등장
+1 OEM/완성차/차종언급
+1 차량용/규제·인증(ADAS,NCAP,UNECE,AEC-Q,ISO26262)
+1 A∧Act동일문장(근접)
-3 제목B중심(자동차연결없음)
-2 본문B중심(직접성불명)
-2 배터리·반도체·소재·에너지:'차량용'불명

판정: total≥3이면서(①OEM/차종/차량용/규제·인증신호중하나명시또는②A∧Act동시문장)일때만1,나머지0
```
**변경사항**: 브랜드 4개만 제거 (르노,쉐보레,샤오펑,리상)

## 🎯 핵심 교훈

### GPT-4o mini는 형식에 극도로 민감
1. **공백** = 토큰 구분자 → 절대 제거 금지
2. **가운뎃점** = 의미 구분자 → 유지 필수
3. **따옴표** = 문자열 표시 → 유지 필수
4. **라벨 단어** = 맥락 제공 → 유지 권장

### 안전한 길이 단축 방법
1. ✅ 브랜드/동사 항목 축소
2. ✅ 중복 표현 제거
3. ❌ 공백/기호 제거
4. ❌ 라벨 단어 축약

## 📊 예상 점수

| 버전 | 길이 | 예상 점수 | 신뢰도 |
|------|------|----------|--------|
| 원본 | 591자 | 0.9801 | ⭐⭐⭐⭐⭐ |
| 안전 V3 | 570자 | 0.9795+ | ⭐⭐⭐⭐ |
| 극한 안전 | 580자 | 0.9798+ | ⭐⭐⭐⭐⭐ |
| 공백 제거 | 432자 | 0.0989 | ❌ |

## ⚠️ 긴급 권고

**절대 공백/기호를 제거하지 마세요!**
- 10배 점수 하락 확인
- GPT-4o mini는 형식이 내용만큼 중요
- 안전하게 브랜드/동사만 줄이세요